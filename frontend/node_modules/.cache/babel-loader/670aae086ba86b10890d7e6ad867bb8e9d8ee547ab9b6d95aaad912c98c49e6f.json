{"ast":null,"code":"import UserTable from '../components/UserTable.vue';\nimport UserForm from '../components/UserForm.vue';\nimport axios from 'axios';\nexport default {\n  name: 'HomeView',\n  components: {\n    UserTable,\n    UserForm\n  },\n  data() {\n    return {\n      users: [],\n      showUserForm: false,\n      currentUser: null,\n      confirmDeleteDialog: false,\n      userToDelete: null\n    };\n  },\n  created() {\n    this.fetchUsers();\n  },\n  methods: {\n    async fetchUsers() {\n      try {\n        const response = await axios.get('http://localhost:5000/api/users');\n        this.users = response.data;\n      } catch (error) {\n        console.error('Erro ao buscar usuários:', error);\n      }\n    },\n    openUserForm(user = null) {\n      this.currentUser = user;\n      this.showUserForm = true;\n    },\n    async saveUser(userData) {\n      try {\n        if (userData._id) {\n          await axios.put(`http://localhost:5000/api/users/${userData._id}`, userData);\n        } else {\n          await axios.post('http://localhost:5000/api/users', userData);\n        }\n        this.fetchUsers();\n        this.showUserForm = false;\n      } catch (error) {\n        console.error('Erro ao salvar usuário:', error);\n      }\n    },\n    confirmDelete(user) {\n      this.userToDelete = user;\n      this.confirmDeleteDialog = true;\n    },\n    async deleteUser() {\n      try {\n        await axios.delete(`http://localhost:5000/api/users/${this.userToDelete._id}`);\n        this.fetchUsers();\n        this.confirmDeleteDialog = false;\n      } catch (error) {\n        console.error('Erro ao excluir usuário:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["UserTable","UserForm","axios","name","components","data","users","showUserForm","currentUser","confirmDeleteDialog","userToDelete","created","fetchUsers","methods","response","get","error","console","openUserForm","user","saveUser","userData","_id","put","post","confirmDelete","deleteUser","delete"],"sources":["C:\\Users\\crash\\Downloads\\691f51c19d1111816ed7782623ee03e0-c19a0955bd659be7d7c07e92b4f1c116ba9ea301\\691f51c19d1111816ed7782623ee03e0-c19a0955bd659be7d7c07e92b4f1c116ba9ea301\\frontend\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <v-card class=\"mb-5\">\r\n      <v-card-title class=\"d-flex justify-space-between align-center\">\r\n        <span>Gerenciar Usuários</span>\r\n        <v-btn color=\"primary\" @click=\"openUserForm()\">\r\n          <v-icon left>mdi-plus</v-icon>\r\n          Novo Usuário\r\n        </v-btn>\r\n      </v-card-title>\r\n      <v-card-text>\r\n        <user-table \r\n          :users=\"users\" \r\n          @edit-user=\"openUserForm\" \r\n          @delete-user=\"confirmDelete\"\r\n          @refresh=\"fetchUsers\"\r\n        />\r\n      </v-card-text>\r\n    </v-card>\r\n\r\n    <user-form\r\n      v-model=\"showUserForm\"\r\n      :user=\"currentUser\"\r\n      @save=\"saveUser\"\r\n    />\r\n\r\n    <v-dialog v-model=\"confirmDeleteDialog\" max-width=\"500\">\r\n      <v-card>\r\n        <v-card-title>Confirmar exclusão</v-card-title>\r\n        <v-card-text>\r\n          Tem certeza de que deseja excluir o usuário \"{{ userToDelete?.username }}\"?\r\n          Esta ação não pode ser desfeita.\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"grey\" text @click=\"confirmDeleteDialog = false\">Cancelar</v-btn>\r\n          <v-btn color=\"error\" @click=\"deleteUser\">Excluir</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserTable from '../components/UserTable.vue'\r\nimport UserForm from '../components/UserForm.vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'HomeView',\r\n  components: {\r\n    UserTable,\r\n    UserForm\r\n  },\r\n  data() {\r\n    return {\r\n      users: [],\r\n      showUserForm: false,\r\n      currentUser: null,\r\n      confirmDeleteDialog: false,\r\n      userToDelete: null\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchUsers()\r\n  },\r\n  methods: {\r\n    async fetchUsers() {\r\n      try {\r\n        const response = await axios.get('http://localhost:5000/api/users')\r\n        this.users = response.data\r\n      } catch (error) {\r\n        console.error('Erro ao buscar usuários:', error)\r\n      }\r\n    },\r\n    openUserForm(user = null) {\r\n      this.currentUser = user\r\n      this.showUserForm = true\r\n    },\r\n    async saveUser(userData) {\r\n      try {\r\n        if (userData._id) {\r\n          await axios.put(`http://localhost:5000/api/users/${userData._id}`, userData)\r\n        } else {\r\n          await axios.post('http://localhost:5000/api/users', userData)\r\n        }\r\n        this.fetchUsers()\r\n        this.showUserForm = false\r\n      } catch (error) {\r\n        console.error('Erro ao salvar usuário:', error)\r\n      }\r\n    },\r\n    confirmDelete(user) {\r\n      this.userToDelete = user\r\n      this.confirmDeleteDialog = true\r\n    },\r\n    async deleteUser() {\r\n      try {\r\n        await axios.delete(`http://localhost:5000/api/users/${this.userToDelete._id}`)\r\n        this.fetchUsers()\r\n        this.confirmDeleteDialog = false\r\n      } catch (error) {\r\n        console.error('Erro ao excluir usuário:', error)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script> "],"mappings":"AA4CA,OAAOA,SAAQ,MAAO,6BAA4B;AAClD,OAAOC,QAAO,MAAO,4BAA2B;AAChD,OAAOC,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IACVJ,SAAS;IACTC;EACF,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,YAAY,EAAE,KAAK;MACnBC,WAAW,EAAE,IAAI;MACjBC,mBAAmB,EAAE,KAAK;MAC1BC,YAAY,EAAE;IAChB;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,UAAU,CAAC;EAClB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMZ,KAAK,CAACa,GAAG,CAAC,iCAAiC;QAClE,IAAI,CAACT,KAAI,GAAIQ,QAAQ,CAACT,IAAG;MAC3B,EAAE,OAAOW,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK;MACjD;IACF,CAAC;IACDE,YAAYA,CAACC,IAAG,GAAI,IAAI,EAAE;MACxB,IAAI,CAACX,WAAU,GAAIW,IAAG;MACtB,IAAI,CAACZ,YAAW,GAAI,IAAG;IACzB,CAAC;IACD,MAAMa,QAAQA,CAACC,QAAQ,EAAE;MACvB,IAAI;QACF,IAAIA,QAAQ,CAACC,GAAG,EAAE;UAChB,MAAMpB,KAAK,CAACqB,GAAG,CAAC,mCAAmCF,QAAQ,CAACC,GAAG,EAAE,EAAED,QAAQ;QAC7E,OAAO;UACL,MAAMnB,KAAK,CAACsB,IAAI,CAAC,iCAAiC,EAAEH,QAAQ;QAC9D;QACA,IAAI,CAACT,UAAU,CAAC;QAChB,IAAI,CAACL,YAAW,GAAI,KAAI;MAC1B,EAAE,OAAOS,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK;MAChD;IACF,CAAC;IACDS,aAAaA,CAACN,IAAI,EAAE;MAClB,IAAI,CAACT,YAAW,GAAIS,IAAG;MACvB,IAAI,CAACV,mBAAkB,GAAI,IAAG;IAChC,CAAC;IACD,MAAMiB,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAMxB,KAAK,CAACyB,MAAM,CAAC,mCAAmC,IAAI,CAACjB,YAAY,CAACY,GAAG,EAAE;QAC7E,IAAI,CAACV,UAAU,CAAC;QAChB,IAAI,CAACH,mBAAkB,GAAI,KAAI;MACjC,EAAE,OAAOO,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK;MACjD;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}