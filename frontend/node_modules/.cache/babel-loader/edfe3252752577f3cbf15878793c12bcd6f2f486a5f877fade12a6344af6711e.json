{"ast":null,"code":"import UserForm from '../components/UserForm.vue';\nimport axios from 'axios';\nexport default {\n  name: 'UserView',\n  components: {\n    UserForm\n  },\n  data() {\n    return {\n      user: null,\n      showUserForm: false,\n      confirmDeleteDialog: false\n    };\n  },\n  created() {\n    this.fetchUser();\n  },\n  methods: {\n    async fetchUser() {\n      try {\n        const response = await axios.get(`http://localhost:5000/api/users/${this.$route.params.id}`);\n        this.user = response.data;\n      } catch (error) {\n        console.error('Error fetching user:', error);\n      }\n    },\n    formatDate(timestamp) {\n      if (!timestamp) return 'N/A';\n      return new Date(timestamp * 1000).toLocaleString();\n    },\n    editUser() {\n      this.showUserForm = true;\n    },\n    async saveUser(userData) {\n      try {\n        await axios.put(`http://localhost:5000/api/users/${this.user._id}`, userData);\n        this.fetchUser();\n        this.showUserForm = false;\n      } catch (error) {\n        console.error('Error saving user:', error);\n      }\n    },\n    confirmDelete() {\n      this.confirmDeleteDialog = true;\n    },\n    async deleteUser() {\n      try {\n        await axios.delete(`http://localhost:5000/api/users/${this.user._id}`);\n        this.confirmDeleteDialog = false;\n        this.$router.push('/');\n      } catch (error) {\n        console.error('Error deleting user:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["UserForm","axios","name","components","data","user","showUserForm","confirmDeleteDialog","created","fetchUser","methods","response","get","$route","params","id","error","console","formatDate","timestamp","Date","toLocaleString","editUser","saveUser","userData","put","_id","confirmDelete","deleteUser","delete","$router","push"],"sources":["C:\\Users\\crash\\Downloads\\691f51c19d1111816ed7782623ee03e0-c19a0955bd659be7d7c07e92b4f1c116ba9ea301\\691f51c19d1111816ed7782623ee03e0-c19a0955bd659be7d7c07e92b4f1c116ba9ea301\\frontend\\src\\views\\UserView.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"user\">\r\n    <v-card>\r\n      <v-card-title class=\"d-flex justify-space-between align-center\">\r\n        <span>User Details: {{ user.username }}</span>\r\n        <div>\r\n          <v-btn color=\"primary\" class=\"mr-2\" @click=\"editUser\">\r\n            <v-icon left>mdi-pencil</v-icon>\r\n            Edit\r\n          </v-btn>\r\n          <v-btn color=\"error\" @click=\"confirmDelete\">\r\n            <v-icon left>mdi-delete</v-icon>\r\n            Delete\r\n          </v-btn>\r\n        </div>\r\n      </v-card-title>\r\n      \r\n      <v-card-text>\r\n        <v-list>\r\n          <v-list-item>\r\n            <v-list-item-title>Username:</v-list-item-title>\r\n            <v-list-item-subtitle>{{ user.username }}</v-list-item-subtitle>\r\n          </v-list-item>\r\n          \r\n          <v-list-item>\r\n            <v-list-item-title>Roles:</v-list-item-title>\r\n            <v-list-item-subtitle>\r\n              <v-chip v-for=\"role in user.roles\" :key=\"role\" class=\"mr-1\" color=\"primary\" small>\r\n                {{ role }}\r\n              </v-chip>\r\n            </v-list-item-subtitle>\r\n          </v-list-item>\r\n          \r\n          <v-list-item>\r\n            <v-list-item-title>Timezone:</v-list-item-title>\r\n            <v-list-item-subtitle>{{ user.preferences.timezone }}</v-list-item-subtitle>\r\n          </v-list-item>\r\n          \r\n          <v-list-item>\r\n            <v-list-item-title>Active:</v-list-item-title>\r\n            <v-list-item-subtitle>\r\n              <v-chip :color=\"user.active ? 'success' : 'error'\" small>\r\n                {{ user.active ? 'Yes' : 'No' }}\r\n              </v-chip>\r\n            </v-list-item-subtitle>\r\n          </v-list-item>\r\n          \r\n          <v-list-item>\r\n            <v-list-item-title>Created At:</v-list-item-title>\r\n            <v-list-item-subtitle>{{ formatDate(user.created_ts) }}</v-list-item-subtitle>\r\n          </v-list-item>\r\n          \r\n          <v-list-item v-if=\"user.updated_ts\">\r\n            <v-list-item-title>Last Updated:</v-list-item-title>\r\n            <v-list-item-subtitle>{{ formatDate(user.updated_ts) }}</v-list-item-subtitle>\r\n          </v-list-item>\r\n        </v-list>\r\n      </v-card-text>\r\n    </v-card>\r\n\r\n    <user-form\r\n      v-model=\"showUserForm\"\r\n      :user=\"user\"\r\n      @save=\"saveUser\"\r\n    />\r\n\r\n    <v-dialog v-model=\"confirmDeleteDialog\" max-width=\"500\">\r\n      <v-card>\r\n        <v-card-title>Confirm Deletion</v-card-title>\r\n        <v-card-text>\r\n          Are you sure you want to delete user \"{{ user.username }}\"?\r\n          This action cannot be undone.\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"grey\" text @click=\"confirmDeleteDialog = false\">Cancel</v-btn>\r\n          <v-btn color=\"error\" @click=\"deleteUser\">Delete</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n  <div v-else>\r\n    <v-progress-circular indeterminate color=\"primary\"></v-progress-circular>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserForm from '../components/UserForm.vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'UserView',\r\n  components: {\r\n    UserForm\r\n  },\r\n  data() {\r\n    return {\r\n      user: null,\r\n      showUserForm: false,\r\n      confirmDeleteDialog: false\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchUser()\r\n  },\r\n  methods: {\r\n    async fetchUser() {\r\n      try {\r\n        const response = await axios.get(`http://localhost:5000/api/users/${this.$route.params.id}`)\r\n        this.user = response.data\r\n      } catch (error) {\r\n        console.error('Error fetching user:', error)\r\n      }\r\n    },\r\n    formatDate(timestamp) {\r\n      if (!timestamp) return 'N/A'\r\n      return new Date(timestamp * 1000).toLocaleString()\r\n    },\r\n    editUser() {\r\n      this.showUserForm = true\r\n    },\r\n    async saveUser(userData) {\r\n      try {\r\n        await axios.put(`http://localhost:5000/api/users/${this.user._id}`, userData)\r\n        this.fetchUser()\r\n        this.showUserForm = false\r\n      } catch (error) {\r\n        console.error('Error saving user:', error)\r\n      }\r\n    },\r\n    confirmDelete() {\r\n      this.confirmDeleteDialog = true\r\n    },\r\n    async deleteUser() {\r\n      try {\r\n        await axios.delete(`http://localhost:5000/api/users/${this.user._id}`)\r\n        this.confirmDeleteDialog = false\r\n        this.$router.push('/')\r\n      } catch (error) {\r\n        console.error('Error deleting user:', error)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script> "],"mappings":"AAuFA,OAAOA,QAAO,MAAO,4BAA2B;AAChD,OAAOC,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IACVH;EACF,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,IAAI;MACVC,YAAY,EAAE,KAAK;MACnBC,mBAAmB,EAAE;IACvB;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,SAAS,CAAC;EACjB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,SAASA,CAAA,EAAG;MAChB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMV,KAAK,CAACW,GAAG,CAAC,mCAAmC,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE,EAAE;QAC3F,IAAI,CAACV,IAAG,GAAIM,QAAQ,CAACP,IAAG;MAC1B,EAAE,OAAOY,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK;MAC7C;IACF,CAAC;IACDE,UAAUA,CAACC,SAAS,EAAE;MACpB,IAAI,CAACA,SAAS,EAAE,OAAO,KAAI;MAC3B,OAAO,IAAIC,IAAI,CAACD,SAAQ,GAAI,IAAI,CAAC,CAACE,cAAc,CAAC;IACnD,CAAC;IACDC,QAAQA,CAAA,EAAG;MACT,IAAI,CAAChB,YAAW,GAAI,IAAG;IACzB,CAAC;IACD,MAAMiB,QAAQA,CAACC,QAAQ,EAAE;MACvB,IAAI;QACF,MAAMvB,KAAK,CAACwB,GAAG,CAAC,mCAAmC,IAAI,CAACpB,IAAI,CAACqB,GAAG,EAAE,EAAEF,QAAQ;QAC5E,IAAI,CAACf,SAAS,CAAC;QACf,IAAI,CAACH,YAAW,GAAI,KAAI;MAC1B,EAAE,OAAOU,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK;MAC3C;IACF,CAAC;IACDW,aAAaA,CAAA,EAAG;MACd,IAAI,CAACpB,mBAAkB,GAAI,IAAG;IAChC,CAAC;IACD,MAAMqB,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAM3B,KAAK,CAAC4B,MAAM,CAAC,mCAAmC,IAAI,CAACxB,IAAI,CAACqB,GAAG,EAAE;QACrE,IAAI,CAACnB,mBAAkB,GAAI,KAAI;QAC/B,IAAI,CAACuB,OAAO,CAACC,IAAI,CAAC,GAAG;MACvB,EAAE,OAAOf,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK;MAC7C;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}