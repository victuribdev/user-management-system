{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_user_table = _resolveComponent(\"user-table\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_user_form = _resolveComponent(\"user-form\");\n  const _component_v_spacer = _resolveComponent(\"v-spacer\");\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  const _component_v_dialog = _resolveComponent(\"v-dialog\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_v_card, {\n    class: \"mb-5\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_card_title, {\n      class: \"d-flex justify-space-between align-center\"\n    }, {\n      default: _withCtx(() => [_cache[6] || (_cache[6] = _createElementVNode(\"span\", null, \"Gerenciar Usuários\", -1 /* HOISTED */)), _createVNode(_component_v_btn, {\n        color: \"primary\",\n        onClick: _cache[0] || (_cache[0] = $event => $options.openUserForm())\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_icon, {\n          left: \"\"\n        }, {\n          default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"mdi-plus\")])),\n          _: 1 /* STABLE */\n        }), _cache[5] || (_cache[5] = _createTextVNode(\" Novo Usuário \"))]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_card_text, null, {\n      default: _withCtx(() => [_createVNode(_component_user_table, {\n        users: $data.users,\n        onEditUser: $options.openUserForm,\n        onDeleteUser: $options.confirmDelete,\n        onRefresh: $options.fetchUsers\n      }, null, 8 /* PROPS */, [\"users\", \"onEditUser\", \"onDeleteUser\", \"onRefresh\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_user_form, {\n    modelValue: $data.showUserForm,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.showUserForm = $event),\n    user: $data.currentUser,\n    onSave: $options.saveUser\n  }, null, 8 /* PROPS */, [\"modelValue\", \"user\", \"onSave\"]), _createVNode(_component_v_dialog, {\n    modelValue: $data.confirmDeleteDialog,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.confirmDeleteDialog = $event),\n    \"max-width\": \"500\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_card, null, {\n      default: _withCtx(() => [_createVNode(_component_v_card_title, null, {\n        default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"Confirmar exclusão\")])),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_card_text, null, {\n        default: _withCtx(() => [_createTextVNode(\" Tem certeza de que deseja excluir o usuário \\\"\" + _toDisplayString($data.userToDelete?.username) + \"\\\"? Esta ação não pode ser desfeita. \", 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_card_actions, null, {\n        default: _withCtx(() => [_createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n          color: \"grey\",\n          text: \"\",\n          onClick: _cache[2] || (_cache[2] = $event => $data.confirmDeleteDialog = false)\n        }, {\n          default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"Cancelar\")])),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_btn, {\n          color: \"error\",\n          onClick: $options.deleteUser\n        }, {\n          default: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\"Excluir\")])),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_createVNode","_component_v_card","class","default","_withCtx","_component_v_card_title","_createElementVNode","_component_v_btn","color","onClick","_cache","$event","$options","openUserForm","_component_v_icon","left","_createTextVNode","_","_component_v_card_text","_component_user_table","users","$data","onEditUser","onDeleteUser","confirmDelete","onRefresh","fetchUsers","_component_user_form","modelValue","showUserForm","user","currentUser","onSave","saveUser","_component_v_dialog","confirmDeleteDialog","_toDisplayString","userToDelete","username","_component_v_card_actions","_component_v_spacer","text","deleteUser"],"sources":["C:\\Users\\crash\\Downloads\\691f51c19d1111816ed7782623ee03e0-c19a0955bd659be7d7c07e92b4f1c116ba9ea301\\691f51c19d1111816ed7782623ee03e0-c19a0955bd659be7d7c07e92b4f1c116ba9ea301\\frontend\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <v-card class=\"mb-5\">\r\n      <v-card-title class=\"d-flex justify-space-between align-center\">\r\n        <span>Gerenciar Usuários</span>\r\n        <v-btn color=\"primary\" @click=\"openUserForm()\">\r\n          <v-icon left>mdi-plus</v-icon>\r\n          Novo Usuário\r\n        </v-btn>\r\n      </v-card-title>\r\n      <v-card-text>\r\n        <user-table \r\n          :users=\"users\" \r\n          @edit-user=\"openUserForm\" \r\n          @delete-user=\"confirmDelete\"\r\n          @refresh=\"fetchUsers\"\r\n        />\r\n      </v-card-text>\r\n    </v-card>\r\n\r\n    <user-form\r\n      v-model=\"showUserForm\"\r\n      :user=\"currentUser\"\r\n      @save=\"saveUser\"\r\n    />\r\n\r\n    <v-dialog v-model=\"confirmDeleteDialog\" max-width=\"500\">\r\n      <v-card>\r\n        <v-card-title>Confirmar exclusão</v-card-title>\r\n        <v-card-text>\r\n          Tem certeza de que deseja excluir o usuário \"{{ userToDelete?.username }}\"?\r\n          Esta ação não pode ser desfeita.\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"grey\" text @click=\"confirmDeleteDialog = false\">Cancelar</v-btn>\r\n          <v-btn color=\"error\" @click=\"deleteUser\">Excluir</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserTable from '../components/UserTable.vue'\r\nimport UserForm from '../components/UserForm.vue'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'HomeView',\r\n  components: {\r\n    UserTable,\r\n    UserForm\r\n  },\r\n  data() {\r\n    return {\r\n      users: [],\r\n      showUserForm: false,\r\n      currentUser: null,\r\n      confirmDeleteDialog: false,\r\n      userToDelete: null\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchUsers()\r\n  },\r\n  methods: {\r\n    async fetchUsers() {\r\n      try {\r\n        console.log(\"Tentando buscar usuários...\");\r\n        const url = 'http://localhost:5000/api/users';\r\n        console.log(\"URL da requisição:\", url);\r\n        const response = await axios.get(url);\r\n        console.log(\"Resposta recebida:\", response.data);\r\n        this.users = response.data;\r\n      } catch (error) {\r\n        console.error('Erro ao buscar usuários:', error);\r\n      }\r\n    },\r\n    openUserForm(user = null) {\r\n      this.currentUser = user\r\n      this.showUserForm = true\r\n    },\r\n    async saveUser(userData) {\r\n      try {\r\n        if (userData._id) {\r\n          await axios.put(`http://localhost:5000/api/users/${userData._id}`, userData)\r\n        } else {\r\n          await axios.post('http://localhost:5000/api/users', userData)\r\n        }\r\n        this.fetchUsers()\r\n        this.showUserForm = false\r\n      } catch (error) {\r\n        console.error('Erro ao salvar usuário:', error)\r\n      }\r\n    },\r\n    confirmDelete(user) {\r\n      this.userToDelete = user\r\n      this.confirmDeleteDialog = true\r\n    },\r\n    async deleteUser() {\r\n      try {\r\n        await axios.delete(`http://localhost:5000/api/users/${this.userToDelete._id}`)\r\n        this.fetchUsers()\r\n        this.confirmDeleteDialog = false\r\n      } catch (error) {\r\n        console.error('Erro ao excluir usuário:', error)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}